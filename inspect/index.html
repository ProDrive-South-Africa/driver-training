<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vehicle Inspection Management System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <header class="app-header">
        <div class="container">
            <div class="header-content">
                <h1>Vehicle Inspection Management System</h1>
                <div class="header-info">
                    <span class="current-date" id="currentDate"></span>
                    <span class="current-time" id="currentTime"></span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard View -->
        <section id="dashboard" class="dashboard">
            <div class="container">
                <!-- Driver & Vehicle Selection -->
                <div class="driver-vehicle-section">
                    <h2>Driver & Vehicle Information</h2>
                    <div class="selection-grid">
                        <div class="form-group">
                            <label class="form-label required" for="driverName">Driver Name</label>
                            <input type="text" id="driverName" class="form-control" placeholder="Enter driver name" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label required" for="licenseNumber">License Number</label>
                            <input type="text" id="licenseNumber" class="form-control" placeholder="Enter license number" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label required" for="employeeId">Employee ID</label>
                            <input type="text" id="employeeId" class="form-control" placeholder="Enter employee ID" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label required" for="vehicleSelect">Select Vehicle</label>
                            <select id="vehicleSelect" class="form-control" required>
                                <option value="">Choose a vehicle</option>
                            </select>
                        </div>
                    </div>
                    <div class="vehicle-info" id="vehicleInfo" style="display: none;">
                        <div class="vehicle-details">
                            <h3>Selected Vehicle Details</h3>
                            <div class="vehicle-meta" id="vehicleMeta"></div>
                        </div>
                    </div>
                </div>

                <!-- Inspection Types -->
                <div class="inspection-types">
                    <h2>Inspection Management</h2>
                    <div class="inspection-grid">
                        <div class="inspection-card" data-type="preTrip">
                            <div class="inspection-card__icon">üîç</div>
                            <h3 class="inspection-card__title">Pre-Trip Inspection</h3>
                            <p class="inspection-card__description">Mandatory inspection before vehicle operation</p>
                            <div class="inspection-card__meta">
                                <span class="time-estimate">15-20 minutes</span>
                                <span class="legal-required">Legally Required</span>
                            </div>
                            <button class="btn btn--primary" id="startPreTripBtn">Start Pre-Trip</button>
                        </div>

                        <div class="inspection-card" data-type="tripMonitoring">
                            <div class="inspection-card__icon">üìç</div>
                            <h3 class="inspection-card__title">Trip Monitoring</h3>
                            <p class="inspection-card__description">Active journey monitoring and safety checks</p>
                            <div class="inspection-card__meta">
                                <span class="time-estimate">5 min per check</span>
                                <span class="check-interval">Every 2 hours</span>
                            </div>
                            <button class="btn btn--primary" id="startTripMonitoringBtn">Start Monitoring</button>
                        </div>

                        <div class="inspection-card" data-type="postTrip">
                            <div class="inspection-card__icon">üìã</div>
                            <h3 class="inspection-card__title">Post-Trip Inspection</h3>
                            <p class="inspection-card__description">End journey completion and defect reporting</p>
                            <div class="inspection-card__meta">
                                <span class="time-estimate">10-15 minutes</span>
                                <span class="legal-required">DVIR Required</span>
                            </div>
                            <button class="btn btn--primary" id="startPostTripBtn">Start Post-Trip</button>
                        </div>
                    </div>
                </div>

                <!-- Daily Summary -->
                <div class="daily-summary">
                    <h2>Daily Inspection Summary</h2>
                    <div class="summary-grid">
                        <div class="summary-card">
                            <h3>Today's Inspections</h3>
                            <div class="summary-stats" id="dailyStats">
                                <div class="stat">
                                    <span class="stat-number">4</span>
                                    <span class="stat-label">Completed</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-number">1</span>
                                    <span class="stat-label">In Progress</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-number">6</span>
                                    <span class="stat-label">Issues Found</span>
                                </div>
                            </div>
                        </div>
                        <div class="summary-card">
                            <h3>Outstanding Issues</h3>
                            <div class="alert-list" id="outstandingAlerts">
                                <div class="alert-item critical">
                                    <span class="alert-priority">CRITICAL</span>
                                    <span class="alert-text">VH004 - Brake system requires immediate attention</span>
                                </div>
                                <div class="alert-item medium">
                                    <span class="alert-priority">MEDIUM</span>
                                    <span class="alert-text">VH002 - Low tire pressure detected</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Inspections -->
                <div class="recent-inspections">
                    <h3>Recent Inspections</h3>
                    <div class="inspection-list" id="recentInspectionsList"></div>
                </div>
            </div>
        </section>

        <!-- Inspection Form View -->
        <section id="inspectionForm" class="inspection-form hidden">
            <div class="container">
                <div class="form-header">
                    <button class="btn btn--outline back-btn" id="backBtn">‚Üê Back to Dashboard</button>
                    <div class="form-title">
                        <h2 id="formTitle">Vehicle Inspection</h2>
                        <div class="inspection-meta">
                            <span id="vehicleInfo">Vehicle: <span id="currentVehicleId"></span></span>
                            <span id="driverInfo">Driver: <span id="currentDriverName"></span></span>
                        </div>
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill"></div>
                            </div>
                            <span class="progress-text" id="progressText">0% Complete</span>
                        </div>
                    </div>
                </div>

                <div class="form-content">
                    <div class="form-sections" id="formSections">
                        <!-- Dynamic form content -->
                    </div>

                    <div class="form-actions">
                        <button class="btn btn--secondary" id="saveProgressBtn">Save Progress</button>
                        <button class="btn btn--primary" id="nextSectionBtn">Next Section</button>
                        <button class="btn btn--primary hidden" id="submitInspectionBtn">Complete Inspection</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Issues Summary View -->
        <section id="issuesSummary" class="issues-summary hidden">
            <div class="container">
                <div class="summary-header">
                    <button class="btn btn--outline" id="backToFormBtn">‚Üê Back to Form</button>
                    <h2>Inspection Results & Issues</h2>
                </div>

                <div class="issues-content">
                    <div class="inspection-status" id="inspectionStatus">
                        <!-- Status summary will be populated -->
                    </div>
                    <div class="issues-list" id="issuesList">
                        <!-- Issues will be populated by JavaScript -->
                    </div>
                    <div class="issues-actions">
                        <button class="btn btn--secondary" id="flagVehicleBtn">Flag Vehicle Out of Service</button>
                        <button class="btn btn--primary" id="generateReportBtn">Generate DVIR Report</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Report View -->
        <section id="reportView" class="report-view hidden">
            <div class="container">
                <div class="report-header">
                    <button class="btn btn--outline" id="backToSummaryBtn">‚Üê Back to Issues</button>
                    <h2>Driver Vehicle Inspection Report (DVIR)</h2>
                    <div class="report-actions">
                        <button class="btn btn--secondary" id="exportPdfBtn">Export PDF</button>
                        <button class="btn btn--secondary" id="emailReportBtn">Email Report</button>
                        <button class="btn btn--primary" id="newInspectionBtn">New Inspection</button>
                    </div>
                </div>

                <div class="report-content" id="reportContent">
                    <!-- Report content will be populated by JavaScript -->
                </div>
            </div>
        </section>
    </main>

    <!-- Photo Upload Modal -->
    <div id="photoModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Inspection Photos</h3>
                <button class="modal-close" id="closePhotoModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="photo-upload-area" id="photoUploadArea">
                    <input type="file" id="photoInput" accept="image/*" multiple>
                    <div class="upload-placeholder">
                        <span class="upload-icon">üì∑</span>
                        <p>Click to select photos or drag and drop</p>
                        <small>Supports JPG, PNG up to 10MB each</small>
                    </div>
                </div>
                <div class="photo-preview" id="photoPreview">
                    <!-- Photo previews will be shown here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn--secondary" id="cancelPhotoBtn">Cancel</button>
                <button class="btn btn--primary" id="addPhotosBtn">Add Photos</button>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast" class="toast hidden">
        <span id="toastMessage"></span>
    </div>

    <script src="app.js"></script>
</body>
</html>